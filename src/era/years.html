<template>

  <section>
    <h1>Years</h1>
  </section>

  <section>
    <table class="table table-hover">
      <thead>

        <tr>

          <th show.bind="!columns.title.hidden" class="${sortColumn === 'title' ? 'active' : ''}">
            <a click.trigger="sortByTitle()">Decade</a>
          </th>

          <th show.bind="!columns.count.hidden" class="${sortColumn === 'count' ? 'active' : ''}" colspan=2>
            <a click.trigger="sortBySongCount()">Songs</a>
          </th>

          <th show.bind="!columns.score.hidden" class="${sortColumn === 'score' ? 'active' : ''}" colspan=2>
            <a click.trigger="sortByScore()">Score</a>
          </th>

          <th show.bind="!columns.topsong.hidden" class="${sortColumn === 'topsong' ? 'active' : ''}">
            Top Song
          </th>

      	</tr>

      </thead>
      <tbody>

        <tr repeat.for="year of view">

          <td show.bind="!columns.title.hidden">
            <a href="#/year/${year.key}">${year.key}</a>
          </td>

          <td show.bind="!columns.count.hidden" style="text-align:right">
            ${year.count}
          </td>

          <td>
            <value-bar value.bind="year.count" max.bind="maxes.count" width="10em"></value-bar>
          </td>

          <td show.bind="!columns.score.hidden" style="text-align:right">
            <span if.bind="year.score > 0">${year.score | decimal:2}</span></td>
          </td>

          <td>
            <value-bar
              value.bind="year.score"
              max.bind="maxes.score"
              width="10em"
              context.bind="year.leader ? 'success' : year.lagger ? 'danger' : ''"
            ></value-bar>
          </td>

          <td>
            <a href="#/song/${year.topsong}">${year.topsongTitle}</a>
          </td>

        </tr>

      </tbody>

    </table>

  </section>

</template>
